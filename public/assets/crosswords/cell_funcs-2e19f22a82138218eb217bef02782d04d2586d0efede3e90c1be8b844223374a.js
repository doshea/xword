(function(){!function(t){t.fn.get_row=function(){return this.data("row")},t.fn.get_col=function(){return this.data("col")},t.fn.is_void=function(){return this.hasClass("void")},t.fn.in_top_row=function(){return 1===t(this).get_row()},t.fn.in_bottom_row=function(){return this.get_row()===t("#crossword").data("rows")},t.fn.in_left_col=function(){return 1===this.get_col()},t.fn.in_right_col=function(){return this.get_col()===t("#crossword").data("cols")},t.fn.get_row_beginning=function(){var e;return e=parseInt(this.get_row()),t(".cell[data-row="+e+"][data-col=1]")},t.fn.get_row_end=function(){var e;return e=parseInt(this.get_row()),t(".cell[data-row="+e+"][data-col="+t("#crossword").data("cols")+"]")},t.fn.get_col_beginning=function(){var e;return e=parseInt(this.get_col()),t(".cell[data-row=1][data-col="+e+"]")},t.fn.get_col_end=function(){var e;return e=parseInt(this.get_col()),t(".cell[data-row="+t("#crossword").data("rows")+"][data-col="+e+"]")},t.fn.has_above=function(){var e,n,s;return!this.in_top_row()&&(s=parseInt(this.get_row()),n=parseInt(this.get_col()),e=t(".cell[data-row='"+(s-1)+"'][data-col='"+n+"']"),!e.is_void())},t.fn.has_below=function(){var e,n,s;return!this.in_bottom_row()&&(s=parseInt(this.get_row()),n=parseInt(this.get_col()),e=t(".cell[data-row='"+(s+1)+"'][data-col='"+n+"']"),!e.is_void())},t.fn.has_left=function(){var e,n,s;return!this.in_left_col()&&(s=parseInt(this.get_row()),e=parseInt(this.get_col()),n=t(".cell[data-row='"+s+"'][data-col='"+(e-1)+"']"),!n.is_void())},t.fn.has_right=function(){var e,n,s;return!this.in_right_col()&&(s=parseInt(this.get_row()),e=parseInt(this.get_col()),n=t(".cell[data-row='"+s+"'][data-col='"+(e+1)+"']"),!n.is_void())},t.fn.cell_to_left=function(){var t;return!this.in_left_col()&&(t=this.prevAll(".cell:not(.void)").first(),!!t.get(0)&&t)},t.fn.cell_to_right=function(){var t;return!this.in_right_col()&&(t=this.nextAll(".cell:not(.void)").first(),!!t.get(0)&&t)},t.fn.cell_above=function(){var e,n,s;return!this.in_top_row()&&(s=parseInt(this.get_row()),n=parseInt(this.get_col()),e=t(".cell[data-row='"+(s-1)+"'][data-col='"+n+"']"),e.is_void()?e.cell_above():e)},t.fn.cell_below=function(){var e,n,s;return!this.in_bottom_row()&&(s=parseInt(this.get_row()),n=parseInt(this.get_col()),e=t(".cell[data-row='"+(s+1)+"'][data-col='"+n+"']"),e.is_void()?e.cell_below():e)},t.fn.previous_cell=function(){return cw.select_across?this.cell_to_left():this.cell_above()},t.fn.next_cell=function(){return cw.select_across?this.cell_to_right():this.cell_below()},t.fn.is_word_start=function(){return!(cw.select_across?this.has_left():this.has_above())},t.fn.is_word_end=function(){return!(cw.select_across?this.has_right():this.has_below())},t.fn.get_down_word_cells=function(){return this.get_down_start_cell().down_word_from_start()},t.fn.get_down_start_cell=function(){return this.has_above()?this.cell_above().get_down_start_cell():this},t.fn.get_down_end_cell=function(){return this.has_below()?this.cell_below().get_down_end_cell():this},t.fn.down_word_from_start=function(){return this.has_below()?[this].concat(this.cell_below().down_word_from_start()):[this]},t.fn.get_down_word=function(){return t.map(this.get_down_word_cells(),function(t){return t.text()}).join("")},t.fn.get_across_word_cells=function(){return this.get_across_start_cell().across_word_from_start()},t.fn.get_across_start_cell=function(){return this.has_left()?this.cell_to_left().get_across_start_cell():this},t.fn.get_across_end_cell=function(){return this.has_right()?this.cell_to_right().get_across_end_cell():this},t.fn.across_word_from_start=function(){return this.has_right()?[this].concat(this.cell_to_right().across_word_from_start()):[this]},t.fn.get_across_word=function(){return t.map(this.get_across_word_cells(),function(t){return t.text()}).join("")},t.fn.get_word_cells=function(){return cw.select_across?this.get_across_word_cells():this.get_down_word_cells()},t.fn.word_from_start=function(){return cw.select_across?this.across_word_from_start():this.down_word_from_start()},t.fn.get_start_cell=function(){return cw.select_across?this.get_across_start_cell():this.get_down_start_cell()},t.fn.get_end_cell=function(){return cw.select_across?this.get_across_end_cell():this.get_down_end_cell()},t.fn.get_number=function(){var t;return t=this.children(".cell-num").text(),t.length>0?t:" "},t.fn.set_number=function(t){this.children(".cell-num").text(t)},t.fn.get_letter=function(){var t;return t=this.children(".letter").first().text().replace(/\n/g,"").replace(RegExp("  +","g"),""),t.length>0?t:" "},t.fn.set_letter=function(t,e){this.children(".letter").first().text(t),"undefined"!=typeof team_app&&null!==team_app&&(e?team_app.send_team_cell(this,t):this.check_finisheds())},t.fn.is_last_letter_of_puzzle=function(){var t,e;return e=cw.select_across?this.get_across_word_cells():this.get_down_word_cells(),t=e.length-1,this[0]===e[t][0]},t.fn.is_empty_cell=function(){return""===this.get_letter()||" "===this.get_letter()||" "===this.get_letter().replace(/\n/g,"").replace(RegExp("  +","g")," ")},t.fn.corresponding_across_clue=function(){return t(this.data("cell")?".across-clue[data-cell-num="+this.data("cell")+"]":".across-clue[data-index="+this.data("index")+"]")},t.fn.corresponding_down_clue=function(){return t(this.data("cell")?".down-clue[data-cell-num="+this.data("cell")+"]":".down-clue[data-index="+this.data("index")+"]")},t.fn.corresponding_clue=function(){return cw.select_across?this.corresponding_across_clue():this.corresponding_down_clue()},t.fn.highlight=function(){this.hasClass("cell")&&!this.is_void()&&(cw.unhighlight_all(),cw.selected=this,this.addClass("selected"),cw.word_highlight())},t.fn.in_finished_across_word=function(){var t,e,n;for(t=this.get_across_word_cells(),n=!0,e=0;e<t.length;){if(t[e].is_empty_cell()){n=!1;break}e++}return n},t.fn.in_finished_down_word=function(){var t,e,n;for(t=this.get_down_word_cells(),n=!0,e=0;e<t.length;){if(t[e].is_empty_cell()){n=!1;break}e++}return n},t.fn.in_finished_word=function(){var t,e,n;for(t=this.get_word_cells(),n=!0,e=0;e<t.length;){if(t[e].is_empty_cell()){n=!1;break}e++}return n},t.fn.in_directional_finished_word=function(){return cw.select_across?this.in_finished_across_word():this.in_finished_down_word()},t.fn.check_finisheds=function(){this.in_finished_across_word()&&this.get_across_start_cell().corresponding_across_clue().addClass("crossed-off"),this.in_finished_down_word()&&this.get_down_start_cell().corresponding_down_clue().addClass("crossed-off")},t.fn.uncheck_unfinisheds=function(){this.get_across_start_cell().corresponding_across_clue().removeClass("crossed-off"),this.get_down_start_cell().corresponding_down_clue().removeClass("crossed-off")},t.fn.next_empty_cell_in_word=function(){return this.is_word_end()||this.is_empty_cell()?this:this.next_cell().next_empty_cell_in_word()},t.fn.next_empty_cell=function(){var e;return this.is_last_letter_of_puzzle()?this.is_empty_cell()?this:(cw.highlight_next_word(),1!==t(".selected").get_number()?t(".selected").is_empty_cell()?t(".selected"):t(".selected").next_empty_cell():void 0):(e=this.next_cell(),e.is_empty_cell()?e:e.next_empty_cell())}}(jQuery)}).call(this);