= javascript_include_tag 'solve'
= stylesheet_link_tag "crossword"
:javascript
  solve_app.solution_id = "#{@solution.id if @solution}"

- if @current_user == @crossword.user
  .row.note
    %p.center
      You are the creator of this puzzle.
      -if !@crossword.published
        %br
        = link_to('Edit Puzzle', edit_crossword_path(@crossword))
        or
        = link_to('Publish Puzzle', publish_crossword_path(@crossword), confirm: "Are you sure you want to publish this puzzle?\nPublished puzzles cannot be edited or deleted.")

.row#credit_area
  .large-12.columns
    %h3
      = @crossword.title
      %span#creator_credit= "by #{ @crossword.user.present? ? @crossword.user.display_name : '[deleted]' }"
    #puzzle_controls
      %span#save_status.smaller No changes yet
      %span#save_clock.smaller
      = link_to_function 'Save Solution', 'app.save_solution()', class: 'button tiny secondary rounded'


.row#solve_area
  .large-12.columns
    = render partial: 'solve_crossword'
.row#meta_area
  .large-12.columns
    .row
      .large-2.columns
        = link_to @crossword.user do
          =image_tag(@crossword.user.image.creator_pic)
      .large-10.columns
        %p
          %em= @crossword.description
          = '--'
          = link_to @crossword.user.display_name, @crossword.user
    %hr
    %section#comments
      %h3 Comments
      / Feed Entry
      - @crossword.comments.each do |comment|
        .row
          .large-1.columns.small-3
            = link_to (image_tag comment.user.image.comment_size), comment.user
          .large-11.columns
            %p
              %strong
              = link_to "#{comment.user.display_name}: ", comment.user
              %br
              = comment.content
            %ul.inline-list
              %li
                %a{:href => ""} Reply
              / %li
              /   %a{:href => ""} Share
            %h6= pluralize(comment.replies.count, 'Reply')
            - comment.replies.each do |reply|
              .row
                .large-1.columns.small-3
                  = link_to (image_tag reply.user.image.reply_size), reply.user
                .large-11.columns
                  %p= reply.content
        / End Feed Entry
        %hr/