// NOTE: Intentionally kept as .js.erb (not migrated to Turbo Stream).
// Called via $.ajax({ dataType: 'script' }) from solve_funcs.js â€” Turbo does not intercept this.
// All incorrect cells are marked with a class, their flags flash red, the class is removed
var mismatches = new Object();
<% @mismatches.each do |k, v| %>
  mismatches[<%= k %>] = <%= v %>;
<% end %>

_.each(mismatches, function(v, i, k){
  var temp = $($('.cell')[i]);
  if (v){
    temp.addClass('flagged incorrect').removeClass('correct');
  } else {
    if (temp.hasClass('incorrect')){
      temp.addClass('flagged correct').removeClass('incorrect');
    }
  }
})