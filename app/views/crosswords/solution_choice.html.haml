-# This page is only shown to users if they have worked on multiple solutions to the same crossword
.row.row-topper.row-bookend
  %h4 Choose a Solution
.row#solution-choice
  .large-4.columns
    = render partial: 'crosswords/partials/mini_pic_canvas', locals: {cw: @crossword, scale: 2.0}
    .metadata
      %h5
        %strong= @crossword.title
      %p= @crossword.user.display_name
      %p #{@crossword.rows} x #{@crossword.cols}
    %hr
    %p
      You have more than one solution for this crossword, please click on the one you would like to work on.
  .large-8.columns
    -# The table of available solutions
    %table
      %thead
        %tr
          %th
            -# Blank column for Team status
          %th.center{colspan: 2} Correctness
          %th.center{colspan: 2} Completion
          %th Last Worked On
          %th Started
          %th Delete
      %tbody
        - @solutions.each do |solution|
          - solution_correctness = solution.percent_correct
          - solution_completion = solution.percent_complete
          %tr
            %td.center
              = link_to solution do
                -if solution.team
                  %i.fi-torsos-all
            %td
              = link_to solution do
                #{solution_correctness[:percent]}%
            %td
              = link_to solution do
                #{solution_correctness[:numerator]}/#{solution_correctness[:denominator]}
            %td
              = link_to solution do
                #{solution_completion[:percent]}%
            %td
              = link_to solution do
                #{solution_completion[:numerator]}/#{solution_completion[:denominator]}
            %td
              = link_to solution do
                #{distance_of_time_in_words_to_now(solution.updated_at, {include_seconds: true})} ago
            %td
              = link_to solution do
                #{distance_of_time_in_words_to_now(solution.created_at, {include_seconds: true})} ago
            %td.center
              = link_to(delete_solution_path(solution), method: :delete, confirm: @current_user == solution.user ? (solution.team ? 'Are you SURE you want to delete this solution? You and the rest of your team will PERMANENTLY lose your work!' : 'Are you SURE you want to delete your solution? You worked so hard on it!') : 'Are you SURE you want to leave this team solution?') do
                %i.fi-trash.center

.row.row-stopper.row-bookend